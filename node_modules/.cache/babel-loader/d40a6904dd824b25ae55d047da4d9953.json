{"ast":null,"code":"var _jsxFileName = \"/Users/prashantkansal/Desktop/techgropse/digiTender/digiTenderFrontend/src/macroComponents/otpVerification.jsx\";\nimport React from \"react\";\nimport Form from \"./form/form\";\nimport Joi from \"joi-browser\";\nimport config from \"../config.json\";\nimport { toast } from \"react-toastify\";\nimport { Link } from \"react-router-dom\";\nimport http from \"../services/httpService\";\nimport * as registerService from \"../services/registerServices\";\nimport ForgotPassword from \"./forgotPasswordForm\";\n\nclass OtpVerificationForm extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formData: {\n        otp: \"\"\n      },\n      errors: {}\n    };\n    this.schema = {\n      otp: Joi.string().required()\n    };\n\n    this.doSubmit = async () => {\n      await localStorage.removeItem(\"token\");\n      const {\n        data,\n        error\n      } = await registerService.otpVerification(this.state.formData, this.props.email);\n      if (error) return;else {\n        if (this.props.forgotPassword === true) {\n          this.props.history.push(\"/forgotPassword/resetPassword\");\n          window.location.reload();\n        } else {\n          this.props.history.push(\"/profileSetup\");\n          window.location.reload();\n        }\n      }\n    };\n\n    this.resendOtp = async () => {\n      try {\n        await http.post(`${config.apiendpoint}/otpGeneration`, {\n          email: this.props.email\n        });\n      } catch (ex) {\n        if (ex.response) toast.error(ex.response.data);\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row no-gutter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-lg-6 col-xl-7 d-none d-md-flex bg-primary-transparent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row wd-100p mx-auto text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-lg-12 col-xl-12 my-auto mx-auto wd-100p\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://www.goinstablog.com/goinstablog.com/sumitdesign/design/digibids.com/common/img/backgrounds/verify.png\",\n      className: \"my-auto ht-xl-80p wd-md-100p wd-xl-80p mx-auto\",\n      alt: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-lg-6 col-xl-5 bg-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login d-flex align-items-center py-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-10 col-lg-10 col-xl-9 mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-sigin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-2 d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://www.goinstablog.com/goinstablog.com/sumitdesign/design/digibids.com/common/img/logo/logo.png\",\n      className: \"sign-favicon\",\n      alt: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-card-signin d-md-flex bg-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wd-100p\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-signin-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 31\n      }\n    }, \"Verify Your OTP\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 31\n      }\n    }, \"Check your email for the OTP\"), /*#__PURE__*/React.createElement(\"form\", {\n      action: \"https://www.goinstablog.com/goinstablog.com/sumitdesign/design/digibids.com/reset-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 31\n      }\n    }, this.renderInput(\"otp\", \"One Time Password\"), this.renderButton(\"Sign Up\", this.handleSubmit))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-signup-footer mg-t-20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 31\n      }\n    }, \"Click here to\", /*#__PURE__*/React.createElement(Link, {\n      to: \"#\",\n      onClick: this.resendOtp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 33\n      }\n    }, \"Resend OTP\"))))))))))))));\n  }\n\n}\n\nexport default OtpVerificationForm;","map":{"version":3,"sources":["/Users/prashantkansal/Desktop/techgropse/digiTender/digiTenderFrontend/src/macroComponents/otpVerification.jsx"],"names":["React","Form","Joi","config","toast","Link","http","registerService","ForgotPassword","OtpVerificationForm","state","formData","otp","errors","schema","string","required","doSubmit","localStorage","removeItem","data","error","otpVerification","props","email","forgotPassword","history","push","window","location","reload","resendOtp","post","apiendpoint","ex","response","render","renderInput","renderButton","handleSubmit"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Form from \"./form/form\";\nimport Joi from \"joi-browser\";\nimport config from \"../config.json\";\nimport { toast } from \"react-toastify\";\nimport { Link } from \"react-router-dom\";\nimport http from \"../services/httpService\";\nimport * as registerService from \"../services/registerServices\";\nimport ForgotPassword from \"./forgotPasswordForm\";\n\nclass OtpVerificationForm extends Form {\n  state = {\n    formData: { otp: \"\" },\n    errors: {},\n  };\n\n  schema = {\n    otp: Joi.string().required(),\n  };\n\n  doSubmit = async () => {\n    await localStorage.removeItem(\"token\");\n    const { data, error } = await registerService.otpVerification(\n      this.state.formData,\n      this.props.email\n    );\n    if (error) return;\n    else {\n      if (this.props.forgotPassword === true) {\n        this.props.history.push(\"/forgotPassword/resetPassword\");\n        window.location.reload();\n      } else {\n        this.props.history.push(\"/profileSetup\");\n        window.location.reload();\n      }\n    }\n  };\n\n  resendOtp = async () => {\n    try {\n      await http.post(`${config.apiendpoint}/otpGeneration`, {\n        email: this.props.email,\n      });\n    } catch (ex) {\n      if (ex.response) toast.error(ex.response.data);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"page\">\n        <div className=\"container-fluid\">\n          <div className=\"row no-gutter\">\n            <div className=\"col-md-6 col-lg-6 col-xl-7 d-none d-md-flex bg-primary-transparent\">\n              <div className=\"row wd-100p mx-auto text-center\">\n                <div className=\"col-md-12 col-lg-12 col-xl-12 my-auto mx-auto wd-100p\">\n                  <img\n                    src=\"https://www.goinstablog.com/goinstablog.com/sumitdesign/design/digibids.com/common/img/backgrounds/verify.png\"\n                    className=\"my-auto ht-xl-80p wd-md-100p wd-xl-80p mx-auto\"\n                    alt=\"logo\"\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"col-md-6 col-lg-6 col-xl-5 bg-white\">\n              <div className=\"login d-flex align-items-center py-2\">\n                <div className=\"container p-0\">\n                  <div className=\"row\">\n                    <div className=\"col-md-10 col-lg-10 col-xl-9 mx-auto\">\n                      <div className=\"card-sigin\">\n                        <div className=\"mb-2 d-flex\">\n                          <Link to=\"#\">\n                            <img\n                              src=\"https://www.goinstablog.com/goinstablog.com/sumitdesign/design/digibids.com/common/img/logo/logo.png\"\n                              className=\"sign-favicon\"\n                              alt=\"logo\"\n                            />\n                          </Link>\n                        </div>\n                        <div className=\"main-card-signin d-md-flex bg-white\">\n                          <div className=\"wd-100p\">\n                            <div className=\"main-signin-header\">\n                              <h2>Verify Your OTP</h2>\n                              <h4>Check your email for the OTP</h4>\n                              <form action=\"https://www.goinstablog.com/goinstablog.com/sumitdesign/design/digibids.com/reset-password\">\n                                {this.renderInput(\"otp\", \"One Time Password\")}\n                                {this.renderButton(\n                                  \"Sign Up\",\n                                  this.handleSubmit\n                                )}\n                              </form>\n                            </div>\n                            <div className=\"main-signup-footer mg-t-20\">\n                              <p>\n                                Click here to\n                                <Link to=\"#\" onClick={this.resendOtp}>\n                                  Resend OTP\n                                </Link>\n                              </p>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OtpVerificationForm;\n"]},"metadata":{},"sourceType":"module"}