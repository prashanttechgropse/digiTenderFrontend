{"ast":null,"code":"var _jsxFileName = \"/Users/prashantkansal/Desktop/techgropse/digiTender/digiTenderFrontend/src/microComponents/uploadTenderTermsAndConditions.jsx\";\nimport React, { Component } from \"react\";\nimport Form from \"../macroComponents/form/form\";\n\nclass UploadTenderTermsAndConditions extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectedFile: null\n    };\n\n    this.validateOnSubmit = () => {\n      const result = Joi.validate(this.state.formData, this.schema, {\n        abortEarly: false\n      });\n      if (!result.error && this.state.selectedFile1 !== null) return null;\n      const errors = {};\n\n      if (result.error) {\n        for (let item of result.error.details) {\n          errors[item.path[0]] = item.message;\n        }\n\n        return errors;\n      }\n\n      if (this.state.selectedFile1 === null) {\n        const errors = {};\n        errors.selectedFile1 = \"upload file\";\n        return errors;\n      }\n    };\n\n    this.onFileChange = event => {\n      // Update the state\n      this.setState({\n        selectedFile: event.target.files[0]\n      });\n    };\n\n    this.doSubmit = async () => {\n      const formData = new FormData();\n\n      for (const item in this.state.formData) {\n        formData.append(item, this.state.formData[item]);\n      }\n\n      formData.append(\"myFile1\", this.state.selectedFile1, this.state.selectedFile1.name);\n\n      if (this.state.selectedFile2 !== null) {\n        formData.append(\"myFile2\", this.state.selectedFile2, this.state.selectedFile2.name);\n      }\n\n      console.log(formData);\n      const {\n        data,\n        error\n      } = await registerService.setUpProfileService(formData);\n\n      if (!data.bankDetailsStatus) {\n        this.props.submitProfileDetails(this.state.formData);\n        this.props.history.push(`/register/uploadBankDetails`);\n      } else {\n        toast.success(\"registration process already completed\");\n        this.props.history.push(`/`);\n      }\n\n      if (error) {\n        return;\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-sigin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-signup-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, \"Upload terms & conditions for the tender\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"dropify\",\n      \"data-height\": \"200\",\n      onChange: this.onFileChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      \"data-target\": \"#publishmodal\",\n      \"data-toggle\": \"modal\",\n      className: \"btn btn-primary-gradient btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 19\n      }\n    }, \"Publish Tender\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-warning-gradient btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 19\n      }\n    }, \"Save for Later\")))))));\n  }\n\n}\n\nexport default UploadTenderTermsAndConditions;","map":{"version":3,"sources":["/Users/prashantkansal/Desktop/techgropse/digiTender/digiTenderFrontend/src/microComponents/uploadTenderTermsAndConditions.jsx"],"names":["React","Component","Form","UploadTenderTermsAndConditions","state","selectedFile","validateOnSubmit","result","Joi","validate","formData","schema","abortEarly","error","selectedFile1","errors","item","details","path","message","onFileChange","event","setState","target","files","doSubmit","FormData","append","name","selectedFile2","console","log","data","registerService","setUpProfileService","bankDetailsStatus","props","submitProfileDetails","history","push","toast","success","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Form from \"../macroComponents/form/form\";\nclass UploadTenderTermsAndConditions extends Form {\n  state = { selectedFile: null };\n\n  validateOnSubmit = () => {\n    const result = Joi.validate(this.state.formData, this.schema, {\n      abortEarly: false,\n    });\n    if (!result.error && this.state.selectedFile1 !== null) return null;\n    const errors = {};\n    if (result.error) {\n      for (let item of result.error.details) {\n        errors[item.path[0]] = item.message;\n      }\n      return errors;\n    }\n    if (this.state.selectedFile1 === null) {\n      const errors = {};\n      errors.selectedFile1 = \"upload file\";\n      return errors;\n    }\n  };\n\n  onFileChange = (event) => {\n    // Update the state\n    this.setState({ selectedFile: event.target.files[0] });\n  };\n\n  doSubmit = async () => {\n    const formData = new FormData();\n    for (const item in this.state.formData) {\n      formData.append(item, this.state.formData[item]);\n    }\n\n    formData.append(\n      \"myFile1\",\n      this.state.selectedFile1,\n      this.state.selectedFile1.name\n    );\n    if (this.state.selectedFile2 !== null) {\n      formData.append(\n        \"myFile2\",\n        this.state.selectedFile2,\n        this.state.selectedFile2.name\n      );\n    }\n    console.log(formData);\n    const { data, error } = await registerService.setUpProfileService(formData);\n    if (!data.bankDetailsStatus) {\n      this.props.submitProfileDetails(this.state.formData);\n      this.props.history.push(`/register/uploadBankDetails`);\n    } else {\n      toast.success(\"registration process already completed\");\n      this.props.history.push(`/`);\n    }\n    if (error) {\n      return;\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <div className=\"card-sigin\">\n            <div className=\"main-signup-header\">\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  <div className=\"form-group\">\n                    <label>Upload terms & conditions for the tender</label>\n                    <input\n                      type=\"file\"\n                      className=\"dropify\"\n                      data-height=\"200\"\n                      onChange={this.onFileChange}\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-md-6\">\n                  <button\n                    data-target=\"#publishmodal\"\n                    data-toggle=\"modal\"\n                    className=\"btn btn-primary-gradient btn-block\"\n                  >\n                    Publish Tender\n                  </button>\n                </div>\n                <div className=\"col-md-6\">\n                  <button className=\"btn btn-warning-gradient btn-block\">\n                    Save for Later\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UploadTenderTermsAndConditions;\n"]},"metadata":{},"sourceType":"module"}