{"ast":null,"code":"var _jsxFileName = \"/Users/prashantkansal/Desktop/techgropse/digiTender/digiTenderFrontend/src/microComponents/uploadTenderTermsAndConditions.jsx\";\nimport React, { Component } from \"react\";\nimport Form from \"../macroComponents/form/form\";\n\nclass UploadTenderTermsAndConditions extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formData: {},\n      selectedFile: null,\n      errors: {}\n    };\n\n    this.validateOnSubmit = () => {\n      if (this.state.selectedFile !== null) return null;\n\n      if (this.state.selectedFile === null) {\n        const errors = {};\n        errors.selectedFile = \"upload file\";\n        return errors;\n      }\n    };\n\n    this.onFileChange = event => {\n      // Update the state\n      this.setState({\n        selectedFile: event.target.files[0]\n      });\n    };\n\n    this.doSubmit = async () => {\n      const formData = new FormData();\n\n      for (const item in this.state.formData) {\n        formData.append(item, this.state.formData[item]);\n      }\n\n      formData.append(\"myFile1\", this.state.selectedFile1, this.state.selectedFile1.name);\n\n      if (this.state.selectedFile2 !== null) {\n        formData.append(\"myFile2\", this.state.selectedFile2, this.state.selectedFile2.name);\n      }\n\n      console.log(formData);\n      const {\n        data,\n        error\n      } = await registerService.setUpProfileService(formData);\n\n      if (!data.bankDetailsStatus) {\n        this.props.submitProfileDetails(this.state.formData);\n        this.props.history.push(`/register/uploadBankDetails`);\n      } else {\n        toast.success(\"registration process already completed\");\n        this.props.history.push(`/`);\n      }\n\n      if (error) {\n        return;\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-sigin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-signup-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, \"Upload terms & conditions for the tender\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"dropify\",\n      \"data-height\": \"200\",\n      onChange: this.onFileChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      \"data-target\": \"#publishmodal\",\n      \"data-toggle\": \"modal\",\n      className: \"btn btn-primary-gradient btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 19\n      }\n    }, \"Publish Tender\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-warning-gradient btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 19\n      }\n    }, \"Save for Later\")))))));\n  }\n\n}\n\nexport default UploadTenderTermsAndConditions;","map":{"version":3,"sources":["/Users/prashantkansal/Desktop/techgropse/digiTender/digiTenderFrontend/src/microComponents/uploadTenderTermsAndConditions.jsx"],"names":["React","Component","Form","UploadTenderTermsAndConditions","state","formData","selectedFile","errors","validateOnSubmit","onFileChange","event","setState","target","files","doSubmit","FormData","item","append","selectedFile1","name","selectedFile2","console","log","data","error","registerService","setUpProfileService","bankDetailsStatus","props","submitProfileDetails","history","push","toast","success","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Form from \"../macroComponents/form/form\";\nclass UploadTenderTermsAndConditions extends Form {\n  state = {\n    formData: {},\n    selectedFile: null,\n    errors: {},\n  };\n\n  validateOnSubmit = () => {\n    if (this.state.selectedFile !== null) return null;\n    if (this.state.selectedFile === null) {\n      const errors = {};\n      errors.selectedFile = \"upload file\";\n      return errors;\n    }\n  };\n\n  onFileChange = (event) => {\n    // Update the state\n    this.setState({ selectedFile: event.target.files[0] });\n  };\n\n  doSubmit = async () => {\n    const formData = new FormData();\n    for (const item in this.state.formData) {\n      formData.append(item, this.state.formData[item]);\n    }\n\n    formData.append(\n      \"myFile1\",\n      this.state.selectedFile1,\n      this.state.selectedFile1.name\n    );\n    if (this.state.selectedFile2 !== null) {\n      formData.append(\n        \"myFile2\",\n        this.state.selectedFile2,\n        this.state.selectedFile2.name\n      );\n    }\n    console.log(formData);\n    const { data, error } = await registerService.setUpProfileService(formData);\n    if (!data.bankDetailsStatus) {\n      this.props.submitProfileDetails(this.state.formData);\n      this.props.history.push(`/register/uploadBankDetails`);\n    } else {\n      toast.success(\"registration process already completed\");\n      this.props.history.push(`/`);\n    }\n    if (error) {\n      return;\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <div className=\"card-sigin\">\n            <div className=\"main-signup-header\">\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  <div className=\"form-group\">\n                    <label>Upload terms & conditions for the tender</label>\n                    <input\n                      type=\"file\"\n                      className=\"dropify\"\n                      data-height=\"200\"\n                      onChange={this.onFileChange}\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-md-6\">\n                  <button\n                    data-target=\"#publishmodal\"\n                    data-toggle=\"modal\"\n                    className=\"btn btn-primary-gradient btn-block\"\n                  >\n                    Publish Tender\n                  </button>\n                </div>\n                <div className=\"col-md-6\">\n                  <button className=\"btn btn-warning-gradient btn-block\">\n                    Save for Later\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UploadTenderTermsAndConditions;\n"]},"metadata":{},"sourceType":"module"}