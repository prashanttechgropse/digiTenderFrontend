{"ast":null,"code":"var _jsxFileName = \"/Users/prashantkansal/Desktop/techgropse/digiTender/digiTenderFrontend/src/microComponents/uploadTenderTermsAndConditions.jsx\";\nimport React, { Component } from \"react\";\nimport Form from \"../macroComponents/form/form\";\n\nclass UploadTenderTermsAndConditions extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectedFile: null\n    };\n\n    this.validateOnSubmit = () => {\n      if (this.state.selectedFile1 !== null) return null;\n      const errors = {};\n\n      if (result.error) {\n        for (let item of result.error.details) {\n          errors[item.path[0]] = item.message;\n        }\n\n        return errors;\n      }\n\n      if (this.state.selectedFile1 === null) {\n        const errors = {};\n        errors.selectedFile1 = \"upload file\";\n        return errors;\n      }\n    };\n\n    this.onFileChange = event => {\n      // Update the state\n      this.setState({\n        selectedFile: event.target.files[0]\n      });\n    };\n\n    this.doSubmit = async () => {\n      const formData = new FormData();\n\n      for (const item in this.state.formData) {\n        formData.append(item, this.state.formData[item]);\n      }\n\n      formData.append(\"myFile1\", this.state.selectedFile1, this.state.selectedFile1.name);\n\n      if (this.state.selectedFile2 !== null) {\n        formData.append(\"myFile2\", this.state.selectedFile2, this.state.selectedFile2.name);\n      }\n\n      console.log(formData);\n      const {\n        data,\n        error\n      } = await registerService.setUpProfileService(formData);\n\n      if (!data.bankDetailsStatus) {\n        this.props.submitProfileDetails(this.state.formData);\n        this.props.history.push(`/register/uploadBankDetails`);\n      } else {\n        toast.success(\"registration process already completed\");\n        this.props.history.push(`/`);\n      }\n\n      if (error) {\n        return;\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-sigin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-signup-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, \"Upload terms & conditions for the tender\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"dropify\",\n      \"data-height\": \"200\",\n      onChange: this.onFileChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      \"data-target\": \"#publishmodal\",\n      \"data-toggle\": \"modal\",\n      className: \"btn btn-primary-gradient btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }\n    }, \"Publish Tender\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-warning-gradient btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }\n    }, \"Save for Later\")))))));\n  }\n\n}\n\nexport default UploadTenderTermsAndConditions;","map":{"version":3,"sources":["/Users/prashantkansal/Desktop/techgropse/digiTender/digiTenderFrontend/src/microComponents/uploadTenderTermsAndConditions.jsx"],"names":["React","Component","Form","UploadTenderTermsAndConditions","state","selectedFile","validateOnSubmit","selectedFile1","errors","result","error","item","details","path","message","onFileChange","event","setState","target","files","doSubmit","formData","FormData","append","name","selectedFile2","console","log","data","registerService","setUpProfileService","bankDetailsStatus","props","submitProfileDetails","history","push","toast","success","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Form from \"../macroComponents/form/form\";\nclass UploadTenderTermsAndConditions extends Form {\n  state = { selectedFile: null };\n\n  validateOnSubmit = () => {\n    if (this.state.selectedFile1 !== null) return null;\n    const errors = {};\n    if (result.error) {\n      for (let item of result.error.details) {\n        errors[item.path[0]] = item.message;\n      }\n      return errors;\n    }\n    if (this.state.selectedFile1 === null) {\n      const errors = {};\n      errors.selectedFile1 = \"upload file\";\n      return errors;\n    }\n  };\n\n  onFileChange = (event) => {\n    // Update the state\n    this.setState({ selectedFile: event.target.files[0] });\n  };\n\n  doSubmit = async () => {\n    const formData = new FormData();\n    for (const item in this.state.formData) {\n      formData.append(item, this.state.formData[item]);\n    }\n\n    formData.append(\n      \"myFile1\",\n      this.state.selectedFile1,\n      this.state.selectedFile1.name\n    );\n    if (this.state.selectedFile2 !== null) {\n      formData.append(\n        \"myFile2\",\n        this.state.selectedFile2,\n        this.state.selectedFile2.name\n      );\n    }\n    console.log(formData);\n    const { data, error } = await registerService.setUpProfileService(formData);\n    if (!data.bankDetailsStatus) {\n      this.props.submitProfileDetails(this.state.formData);\n      this.props.history.push(`/register/uploadBankDetails`);\n    } else {\n      toast.success(\"registration process already completed\");\n      this.props.history.push(`/`);\n    }\n    if (error) {\n      return;\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <div className=\"card-sigin\">\n            <div className=\"main-signup-header\">\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  <div className=\"form-group\">\n                    <label>Upload terms & conditions for the tender</label>\n                    <input\n                      type=\"file\"\n                      className=\"dropify\"\n                      data-height=\"200\"\n                      onChange={this.onFileChange}\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-md-6\">\n                  <button\n                    data-target=\"#publishmodal\"\n                    data-toggle=\"modal\"\n                    className=\"btn btn-primary-gradient btn-block\"\n                  >\n                    Publish Tender\n                  </button>\n                </div>\n                <div className=\"col-md-6\">\n                  <button className=\"btn btn-warning-gradient btn-block\">\n                    Save for Later\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UploadTenderTermsAndConditions;\n"]},"metadata":{},"sourceType":"module"}